syntax = "proto3";
package pathplanner;

message Waypoint {
    Point point = 1;
    WaypointType type = 2;
}

message GCSAction{
    int64 id = 1;
}

message Point{
    float latitude = 1;
    float longitude = 2;
    float altitude = 3;
}

enum WaypointType {
    HOME = 0;
    TAKEOFF = 1;
    LAND = 2;
    LAND_START = 3;
}

message Path {
    int64 id = 1;
    Waypoint waypoints = 2;
    bool partial = 3;
    int64 start = 4;
    int64 reference_id = 5;
}

message StationaryObstacle{
    int64 id = 1;
    Point point = 2;
    float height = 3;
    float radius = 4;
}

message MovingObstacle{
    int64 id = 1;
    Point point = 2;
    float radius = 3;
}

message Obstacles{
    repeated StationaryObstacle stats = 1;
    repeated MovingObstacle movs = 2;
}

service PathPlanner{
    rpc generate_path(Obstacles) returns (Path);
    rpc gcs_action(GCSAction) returns (Path);
}
